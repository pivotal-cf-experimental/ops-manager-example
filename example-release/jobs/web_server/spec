---
name: web_server
templates:
  ctl.erb: bin/ctl
  nginx_conf.erb: config/nginx.conf
  mime.types: config/mime.types
  index.html.erb: pages/index.html

packages: [nginx]

consumes:
  - name: web_server_info
    type: type_a

provides:
  - name: web_server_info
    type: type_a

properties:
  credhub.password:
    description: 'Password generated by credhub'
  credhub.concatenated_password:
    description: 'Used to show credhub generated values concatenated with other strings'

  generated.root_rsa_certificate:
    description: 'OpsManager CA chain'
  generated.rsa_cert_credentials.present:
    description: 'RSA cert value_present?'
  generated.rsa_cert_credentials.private_key_pem:
    description: 'RSA cert private_key_pem'
  generated.rsa_cert_credentials.cert_pem:
    description: 'RSA cert cert_pem'
  generated.rsa_cert_credentials.public_key_pem:
    description: 'RSA cert public_key_pem'
  generated.rsa_cert_credentials.cert_and_private_key_pems:
    description: 'RSA cert cert_and_private_key_pems'
  generated.rsa_pkey_credentials.present:
    description: 'Rsa public key value_present?'
  generated.rsa_pkey_credentials.public_key_pem:
    description: 'Rsa public key pem'
  generated.rsa_pkey_credentials.private_key_pem:
    description: 'Rsa private key pem'
  generated.rsa_pkey_credentials.public_key_openssh:
    description: 'Rsa public key openssh'
  generated.rsa_pkey_credentials.public_key_fingerprint:
    description: 'Rsa public key fingerprint openssh'
  generated.salted_credentials.present:
    description: 'Salted credentials value_present?'
  generated.salted_credentials.sha512_hashed_password:
    description: 'Hashed Password'
  generated.salted_credentials.identity:
    description: 'Identity'
  generated.salted_credentials.salt:
    description: 'Password salt'
  generated.salted_credentials.password:
    description: 'Password'
  generated.simple_credentials.present:
    description: 'Simple credentials value_present?'
  generated.simple_credentials.identity:
    description: 'Identity'
  generated.simple_credentials.password:
    description: 'Password'
  generated.secret.present:
    description: 'Secret value_present?'
  generated.secret.value:
    description: 'A randomly generated value'
  generated.uuid:
    description: 'a generated uuid'

  generated.for_migration_to_credhub.rsa_cert_credentials.public_key_pem:
    description: 'public_key_pem for rsa_cert_credentials to migrate to credhub during upgrade to the next version of the example tile'
  generated.for_migration_to_credhub.rsa_cert_credentials.cert_and_private_key_pems:
    description: 'cert_and_private_key_pems for rsa_cert_credentials to migrate to credhub during upgrade to the next version of the example tile'
  generated.for_migration_to_credhub.rsa_pkey_credentials.public_key_pem:
    description: 'public_key_pem for rsa_pkey_credentials to migrate to credhub during upgrade to the next version of the example tile'
  generated.for_migration_to_credhub.rsa_pkey_credentials.private_key_pem:
    description: 'private_key_pem for rsa_pkey_credentials to migrate to credhub during upgrade to the next version of the example tile'
  generated.for_migration_to_credhub.rsa_pkey_credentials.public_key_openssh:
    description: 'public_key_openssh for rsa_pkey_credentials to migrate to credhub during upgrade to the next version of the example tile'
  generated.for_migration_to_credhub.rsa_pkey_credentials.public_key_fingerprint:
    description: 'public_key_fingerprint for rsa_pkey_credentials to migrate to credhub during upgrade to the next version of the example tile'
  generated.for_migration_to_credhub.salted_credentials.sha512_hashed_password:
    description: 'sha512_hashed_password for salted_credentials to migrate to credhub during upgrade to the next version of the example tile'
  generated.for_migration_to_credhub.salted_credentials.identity:
    description: 'identity for salted_credentials to migrate to credhub during upgrade to the next version of the example tile'
  generated.for_migration_to_credhub.salted_credentials.password:
    description: 'password for salted_credentials to migrate to credhub during upgrade to the next version of the example tile'
  generated.for_migration_to_credhub.salted_credentials.salt:
    description: 'salt for salted_credentials to migrate to credhub during upgrade to the next version of the example tile'
  generated.for_migration_to_credhub.simple_credentials.identity:
    description: 'identity for simple_credentials to migrate to credhub during upgrade to the next version of the example tile'
  generated.for_migration_to_credhub.simple_credentials.password:
    description: 'password for simple_credentials to migrate to credhub during upgrade to the next version of the example tile'
  generated.for_migration_to_credhub.secret:
    description: 'secret to migrate to credhub during upgrade to the next version of the example tile'

  migrated_to_credhub.secret:
    description: 'a secret from credhub'
  migrated_to_credhub.rsa_public_key:
    description: 'an rsa public key from credhub'
  migrated_to_credhub.rsa_private_key:
    description: 'an rsa private key from credhub'
  migrated_to_credhub.simple_creds_username:
    description: 'a username from credhub'
  migrated_to_credhub.simple_creds_password:
    description: 'a password from credhub'
  migrated_to_credhub.salted_creds_username:
    description: 'a username from credhub'
  migrated_to_credhub.salted_creds_password:
    description: 'a password from credhub'

  configured.string:
    description: 'a basic configured string'
  configured.integer:
    description: 'a basic configured integer'
  configured.boolean:
    description: 'a basic configured boolean'
  configured.dropdown:
    description: 'a basic configured dropdown'
  configured.domain:
    description: 'a basic configured domain'
  configured.wildcard_domain:
    description: 'a basic configured wildcard_domain'
  configured.string_list:
    description: 'a basic configured string_list'
  configured.text:
    description: 'a basic configured text'
  configured.ldap_url:
    description: 'a basic configured ldap_url'
  configured.email:
    description: 'a basic configured email'
  configured.http_url:
    description: 'a basic configured http_url'
  configured.ip_address:
    description: 'a basic configured ip_address'
  configured.ip_ranges.value:
    description: 'a basic configured csv list of ip ranges'
  configured.ip_ranges.parsed_ip_ranges:
    description: 'an array of parsed ip range'
  configured.multi_select_options:
    description: 'a basic configured multi_select_options'
  configured.network_address_list.value:
    description: 'a basic configured csv list network_address_list'
  configured.network_address_list.parsed_network_addresses:
    description: 'an array of parsed network addresses'
  configured.network_address:
    description: 'a basic configured network_address'
  configured.port:
    description: 'a basic configured port'
  configured.smtp_authentication:
    description: 'a basic configured smtp_authentication'
  configured.ca_certificate:
    description: 'a basic configurable ca_certificate'
  configured.example_vm_type_dropdown_value:
    description: 'The larger the VM the more cookies we can bake'
  configured.example_disk_type_dropdown_value:
    description: 'The larger the disk the more cookies we can store'
  configured.record_collection:
    description: 'a configured record collection'
  configured.selector:
    description: 'a configured selector'
  configured.selector_specific_option:
    description: 'a selector specific option'
  configured.selector_value:
    description: 'a selector value'
  configured.stemcell_selector:
    description: 'a stemcell selector object'
  configured.top_level_secret:
    description: 'a top level secret'
  configured.concat_secrets:
    description: 'some concatonated secrets'
  configured.secret:
    description: 'A configured secret'
  configured.secret_ternary:
    description: 'A configured secret using a ternary'
  configured.secret_or:
    description: 'A configured secret using an or'
  configured.rsa_cert_credentials.public_key_pem:
    description: 'RSA cert public_key_pem'
  configured.rsa_cert_credentials.cert_and_private_key_pems:
    description: 'RSA cert cert_and_private_key_pems'
  configured.simple_credentials.identity:
    description: 'Identity'
  configured.simple_credentials.password:
    description: 'Password'

  ops_manager_provided_accessors.name:
    description: 'job name'
  ops_manager_provided_accessors.ephemeral_disk:
    description: 'value of ephemeral disk'
  ops_manager_provided_accessors.persistent_disk:
    description: 'value of persistent disk'
  ops_manager_provided_accessors.ram:
    description: 'value of ram'
  ops_manager_provided_accessors.instances:
    description: 'number of instances'
  ops_manager_provided_accessors.any_instances:
    description: 'true if there are 1 or more instances of the job'

  director_provided_accessors.ntp_servers:
    description: 'Director ntp_servers'
  director_provided_accessors.ca_public_key:
    description: 'Director ca_public_key'
  director_provided_accessors.tld:
    description: 'Director tld'
  director_provided_accessors.bosh_metrics_forwarder_client_name:
    description: 'UAA Client name for Bosh Metrics Client'
  director_provided_accessors.bosh_metrics_forwarder_client_secret:
    description: 'UAA Client secret for Bosh Metrics Client'

  product.deployment_name:
    description: 'deployment name for the product'
  product.network_name:
    description: 'network name for the product'

  stemcell_selector.os:
    description: 'Assigned stemcell OS'
  stemcell_selector.version:
    description: 'Assigned stemcell version'
  stemcell_selector.name:
    description: 'Assigned stemcell name'
  stemcell_selector.assigned:
    description: 'Boolean. Whether or not additional stemcell is assigned'
  stemcell_selector.value:
    description: 'Selected stemcell OS'
  stemcell_selector.value_present:
    description: 'Boolean. Whether or not a value has been selected'

  self.stemcell_version:
    description: 'stemcell assigned to product'
  self.stemcell_name:
    description: 'stemcell name of the stemcell assigned to product'
